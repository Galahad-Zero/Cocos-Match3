{"version":3,"sources":["assets\\Script\\gamePlay\\block\\BaseBlock.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,4EAA4E;AAC5E,mBAAmB;AACnB,sFAAsF;AACtF,8BAA8B;AAC9B,sFAAsF;;;;;;;;AAMtF,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,UAAU,CAAC;AAG5C,IAAqB,SAAS,GAA9B,MAAqB,SAAU,SAAQ,EAAE,CAAC,SAAS;IAAnD;;QAEI,aAAQ,GAAgB,IAAI,CAAC;QAE7B,YAAO,GAAgB,IAAI,CAAC;QAC5B,WAAM,GAAuB,IAAI,CAAC;IAqCtC,CAAC;IAnCU,SAAS;QACZ,OAAO,IAAI,CAAC,OAAO,CAAC;IACxB,CAAC;IAEM,QAAQ;QACX,OAAO,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;IAED,QAAQ;IACD,KAAK;QACR,IAAI,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC;QAC/B,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;QAC5B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IACvB,CAAC;IAED,QAAQ;IACD,KAAK,CACR,MAAmB,EACnB,KAAyB,EACzB,MAAgB;QAEhB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,MAAM,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACvE,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,WAAW,CAAC,YAAY,CAAC;QACtD,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SAC/B;QACD,IAAI,CAAC,QAAQ,CAAC,YAAY,CACtB,CAAC,EACD,WAAW,CAAC,SAAS,EACrB,WAAW,CAAC,MAAM,CACrB,CAAC;IACN,CAAC;CACJ,CAAA;AAxCG;IADC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC;2CACO;AAFZ,SAAS;IAD7B,OAAO;GACa,SAAS,CA0C7B;kBA1CoB,SAAS","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nimport SpineProperty from '../common/SpineProperty';\nimport { BlockConfig } from '../GameTypes';\nimport BlockStyleProperty from './BlockStyleProperty';\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class BaseBlock extends cc.Component {\n    @property(sp.Skeleton)\n    skeleton: sp.Skeleton = null;\n\n    _config: BlockConfig = null;\n    _style: BlockStyleProperty = null;\n\n    public getConfig(): BlockConfig {\n        return this._config;\n    }\n\n    public getStyle(): BlockStyleProperty {\n        return this._style;\n    }\n\n    // 节点池回收\n    public unuse(): void {\n        this.skeleton.setToSetupPose();\n        this.skeleton.clearTracks();\n        this._config = null;\n        this._style = null;\n    }\n\n    // 节点池获取\n    public reuse(\n        config: BlockConfig,\n        style: BlockStyleProperty,\n        parent?: cc.Node\n    ): void {\n        this._config = config;\n        this._style = style;\n        const targetStyle = this._style.getAnimationInfo(this._config.special);\n        this.skeleton.skeletonData = targetStyle.skeletonData;\n        if (parent) {\n            this.node.setParent(parent);\n        }\n        this.skeleton.setAnimation(\n            0,\n            targetStyle.animation,\n            targetStyle.isLoop\n        );\n    }\n}\n"]}