{"version":3,"sources":["assets\\Script\\gamePlay\\common\\SpineUtils.ts"],"names":[],"mappings":";;;;;;;AAAa,QAAA,qBAAqB,GAAG,EAAE,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC;AAI9D,SAAS,WAAW,CAAC,GAAiB,EAAE,QAAgB,EAAE,OAAY;IAClE,IAAI,CAAC,SAAS,EAAE;QACZ,OAAO;KACV;IAEA,EAAE,CAAC,KAAa,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,EAAE;QAClC,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAG,EAAE,CAAC,IAAY,CAAC,OAAO,CAAC,OAAO,CAAC;KAC9C,CAAC,CAAC;AACP,CAAC;AAED,SAAS,aAAa,CAAC,SAAqB,EAAE,IAAa;IACvD,IAAI,CAAC,SAAS,EAAE;QACZ,OAAO;KACV;IAED,KAAK,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,SAAS,EAAE;QACtD,WAAW,CAAC,SAAS,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;KAC7C;IAEA,MAAc,CAAC,MAAM,CAAC,KAAK,CAAC,wBAAwB,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;AAC7E,CAAC;AAGD,SAAgB,mBAAmB,CAC/B,SAAsB,EACtB,OAAqB,EACrB,QAAgB;IAEhB,IAAI,CAAC,SAAS,EAAE;QACZ,OAAO;KACV;IAED,IAAI,QAAQ,GAAG,6BAAqB,CAAC;IACrC,MAAM,EAAE,YAAY,EAAE,GAAG,CAAC,SAAS,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAQ,CAAC;IACnE,IAAI,YAAY,EAAE;QACd,QAAQ,GAAG,YAAY,CAAC,YAAY,EAAE,CAAC;KAC1C;IAED,aAAa,CACT,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC,EACrD,OAAO,CAAC,IAAI,CACf,CAAC;AACN,CAAC;AAnBD,kDAmBC","file":"","sourceRoot":"/","sourcesContent":["export const DefaultAnimationsEnum = cc.Enum({ '<None>': 0 });\r\n\r\ntype EnumAttr = { component: cc.Component; propName: string; enumDef: any };\r\n\r\nfunction setEnumAttr(obj: cc.Component, propName: string, enumDef: any): void {\r\n    if (!CC_EDITOR) {\r\n        return;\r\n    }\r\n\r\n    (cc.Class as any).attr(obj, propName, {\r\n        type: 'Enum',\r\n        enumList: (cc.Enum as any).getList(enumDef)\r\n    });\r\n}\r\n\r\nfunction refreshEditor(enumArray: EnumAttr[], node: cc.Node): void {\r\n    if (!CC_EDITOR) {\r\n        return;\r\n    }\r\n\r\n    for (const { component, propName, enumDef } of enumArray) {\r\n        setEnumAttr(component, propName, enumDef);\r\n    }\r\n\r\n    (global as any).Editor.Utils.refreshSelectedInspector('node', node.uuid);\r\n}\r\n\r\n\r\nexport function updateAnimationEnum(\r\n    spineComp: sp.Skeleton,\r\n    context: cc.Component,\r\n    propName: string\r\n): void {\r\n    if (!CC_EDITOR) {\r\n        return;\r\n    }\r\n\r\n    let animEnum = DefaultAnimationsEnum;\r\n    const { skeletonData } = (spineComp || Object.create(null)) as any;\r\n    if (skeletonData) {\r\n        animEnum = skeletonData.getAnimsEnum();\r\n    }\r\n\r\n    refreshEditor(\r\n        [{ component: context, propName, enumDef: animEnum }],\r\n        context.node\r\n    );\r\n}"]}