{"version":3,"sources":["assets\\Script\\gamePlay\\common\\GameUtils.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { Direction, DirectionVector } from '../GameConst';\nimport {\n    BlockConfig,\n    BlockSpecialType,\n    BlockType,\n    Location,\n} from '../GameTypes';\n\nconst DirectionList = [\n    Direction.UP,\n    Direction.DOWN,\n    Direction.LEFT,\n    Direction.RIGHT,\n];\n\nexport function isLocationEqual(\n    location1: Location,\n    location2: Location\n): boolean {\n    return (\n        location1.row === location2.row && location1.column === location2.column\n    );\n}\n\nexport function getDirection(delta: cc.Vec2): Direction {\n    let minAngle = Infinity;\n    let minDirection = Direction.NONE;\n    for (const direction of DirectionList) {\n        const dirVec = DirectionVector[direction];\n        const angle = delta.normalize().angle(dirVec);\n        if (angle < minAngle) {\n            minAngle = angle;\n            minDirection = direction;\n        }\n    }\n    return minDirection;\n}\n\nexport function getNeighborLocations(location: Location): Array<Location> {\n    return [\n        { row: location.row - 1, column: location.column },\n        { row: location.row + 1, column: location.column },\n        { row: location.row, column: location.column - 1 },\n        { row: location.row, column: location.column + 1 },\n    ];\n}\n\nexport function isNeighborLocation(\n    location1: Location,\n    location2: Location\n): boolean {\n    if (location1.row === location2.row) {\n        return Math.abs(location1.column - location2.column) === 1;\n    } else if (location1.column === location2.column) {\n        return Math.abs(location1.row - location2.row) === 1;\n    }\n    return false;\n}\n\nexport function getSwapLocation(\n    location: Location,\n    direction: Direction\n): Location {\n    if (direction === Direction.NONE) {\n        return location;\n    }\n    const directionVector = DirectionVector[direction];\n    return {\n        row: location.row + directionVector.y,\n        column: location.column + directionVector.x,\n    };\n}\n\nexport function getRandomBlockConfig(): BlockConfig {\n    const blockConfigs = [\n        { type: BlockType.BLOCK_TYPE_1, special: BlockSpecialType.NONE },\n        { type: BlockType.BLOCK_TYPE_2, special: BlockSpecialType.NONE },\n        { type: BlockType.BLOCK_TYPE_3, special: BlockSpecialType.NONE },\n        { type: BlockType.BLOCK_TYPE_4, special: BlockSpecialType.NONE },\n        { type: BlockType.BLOCK_TYPE_5, special: BlockSpecialType.NONE },\n    ];\n    return blockConfigs[Math.floor(Math.random() * blockConfigs.length)];\n}\n"]}