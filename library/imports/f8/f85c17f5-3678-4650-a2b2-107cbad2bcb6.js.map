{"version":3,"sources":["assets\\Script\\level\\LevelMenu.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,4EAA4E;AAC5E,mBAAmB;AACnB,sFAAsF;AACtF,8BAA8B;AAC9B,sFAAsF;;;;;;;;AAEtF,0CAAmC;AACnC,iDAA0C;AAE1C,yCAAkC;AAElC,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,UAAU,CAAC;AAG5C,IAAqB,WAAW,GAAhC,MAAqB,WAAY,SAAQ,EAAE,CAAC,SAAS;IAArD;;QAEI,aAAQ,GAAa,IAAI,CAAC;IAoC9B,CAAC;IAlCa,KAAK;QACX,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;IAC9B,CAAC;IAEM,YAAY,CAAC,KAA0B;QAC1C,MAAM,MAAM,GAAG,KAAK,CAAC,MAAiB,CAAC;QACvC,MAAM,QAAQ,GAAG,MAAM,CAAC,YAAY,CAAC,kBAAQ,CAAC,CAAC;QAC/C,IAAI,CAAC,QAAQ,EAAE;YACX,OAAO;SACV;QACD,MAAM,WAAW,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC;QAC5C,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;IAC9B,CAAC;IAEM,OAAO,CAAC,WAAwB;QACnC,MAAM,UAAU,GAAG,CAAC,GAAG,EAAE,KAAe,EAAE,EAAE;YACxC,IAAI,GAAG,EAAE;gBACL,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;aACtB;iBAAM;gBACH,MAAM,OAAO,GAAG,KAAK,CAAC,sBAAsB,CAAC,iBAAO,CAAC,CAAC;gBACtD,OAAO,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;aACtC;QACL,CAAC,CAAC;QACF,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;IAC9C,CAAC;IAEM,UAAU;QACb,QAAQ;QACR,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IAES,SAAS;QACf,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;IAC9B,CAAC;CACJ,CAAA;AApCG;IADC,QAAQ,CAAC,kBAAQ,CAAC;6CACO;AAFT,WAAW;IAD/B,OAAO;GACa,WAAW,CAsC/B;kBAtCoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport AudioMgr from '../AudioMgr';\r\nimport GameMgr from '../gamePlay/GameMgr';\r\nimport { LevelConfig } from '../gamePlay/GameTypes';\r\nimport LevelBtn from './LevelBtn';\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class LevelSelect extends cc.Component {\r\n    @property(AudioMgr)\r\n    audioMgr: AudioMgr = null;\r\n\r\n    protected start(): void {\r\n        this.audioMgr.playMusic();\r\n    }\r\n\r\n    public onEntryLevel(event: cc.Event.EventTouch): void {\r\n        const target = event.target as cc.Node;\r\n        const levelBtn = target.getComponent(LevelBtn);\r\n        if (!levelBtn) {\r\n            return;\r\n        }\r\n        const levelConfig = levelBtn.getLevelInfo();\r\n        this.runGame(levelConfig);\r\n    }\r\n\r\n    public runGame(levelConfig: LevelConfig): void {\r\n        const onLaunched = (err, scene: cc.Scene) => {\r\n            if (err) {\r\n                console.error(err);\r\n            } else {\r\n                const gameMgr = scene.getComponentInChildren(GameMgr);\r\n                gameMgr.initGamePanel(levelConfig);\r\n            }\r\n        };\r\n        cc.director.loadScene('Game', onLaunched);\r\n    }\r\n\r\n    public backToMenu(): void {\r\n        // 返回主菜单\r\n        cc.director.loadScene('Menu');\r\n    }\r\n\r\n    protected onDestroy(): void {\r\n        this.audioMgr.stopMusic();\r\n    }\r\n}\r\n"]}